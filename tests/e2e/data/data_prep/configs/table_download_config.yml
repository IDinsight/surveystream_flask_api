tables:
    - 
        table_name: users
        query: "
          SELECT DISTINCT ON (a.user_uid) a.user_uid,
          MD5(random()::text) AS email,
          MD5(random()::text) AS password_secure,
          MD5(random()::text) AS first_name,
          MD5(random()::text) AS middle_name,
          MD5(random()::text) AS last_name,
          MD5(random()::text) AS home_state,
          MD5(random()::text) AS home_district,
          MD5(random()::text) AS phone_primary,
          MD5(random()::text) AS phone_secondary,
          NULL AS avatar_s3_filekey,
          a.active
          FROM users a 
          INNER JOIN user_hierarchy b 
          ON a.user_uid = b.user_uid 
          WHERE b.survey_uid IN {surveys}
          "
    - 
        table_name: sampling_frames
        query: "
          SELECT a.* 
          FROM sampling_frames a 
          INNER JOIN surveys b 
          ON a.sampling_frame_uid = b.sampling_frame_uid 
          WHERE b.survey_uid IN {surveys}
          "
    - 
        table_name: sampling_frame_geo_levels
        query: "
          SELECT a.* 
          FROM sampling_frame_geo_levels a 
          INNER JOIN surveys b 
          ON a.sampling_frame_uid = b.sampling_frame_uid 
          WHERE b.survey_uid IN {surveys}
          "
    - 
        table_name: locations 
        query: "
          SELECT a.* 
          FROM locations a 
          INNER JOIN surveys b 
          ON a.sampling_frame_uid = b.sampling_frame_uid 
          WHERE b.survey_uid IN {surveys}
          "
    - 
        table_name: location_hierarchy
        query: "
          SELECT a.* 
          FROM location_hierarchy a 
          INNER join locations b 
          ON a.location_uid = b.location_uid 
          INNER JOIN surveys c 
          ON b.sampling_frame_uid = c.sampling_frame_uid 
          WHERE c.survey_uid IN {surveys}
          "
    - 
        table_name: surveys
        query: "
          SELECT * 
          FROM surveys 
          WHERE survey_uid IN {surveys}
          "
    - 
        table_name: admin_forms
        query: "
          SELECT * 
          FROM admin_forms 
          WHERE survey_uid IN {surveys}
          "
    - 
        table_name: parent_forms
        query: "
          SELECT * 
          FROM parent_forms 
          WHERE survey_uid IN {surveys}
          "
    - 
        table_name: child_forms
        query: "
          SELECT a.* 
          FROM child_forms a 
          INNER JOIN parent_forms b 
          ON a.parent_form_uid = b.form_uid 
          WHERE b.survey_uid IN {surveys}
          "
    - 
        table_name: roles
        query: "
          SELECT * 
          FROM roles 
          WHERE survey_uid IN {surveys}
          "
    - 
        table_name: user_hierarchy
        query: "
          SELECT * 
          FROM user_hierarchy 
          WHERE survey_uid IN {surveys}
          "
    - 
        table_name: location_user_mapping
        query: "
          SELECT a.* 
          FROM location_user_mapping a
          INNER JOIN user_hierarchy b 
          ON a.user_uid = b.user_uid 
          AND a.survey_uid = b.survey_uid
          WHERE a.survey_uid IN {surveys}
          "
    - 
        table_name: enumerators
        query: "
          SELECT DISTINCT ON (a.enumerator_uid) a.enumerator_uid,
          a.enumerator_id,
          MD5(random()::text) AS first_name,
          MD5(random()::text) AS middle_name,
          MD5(random()::text) AS last_name,
          MD5(random()::text) AS gender,
          MD5(random()::text) AS language,
          MD5(random()::text) AS phone_primary,
          MD5(random()::text) AS phone_secondary,
          MD5(random()::text) AS email,
          jsonb_build_object('address', MD5(random()::text),'home_state', MD5(random()::text),'home_district', MD5(random()::text),'home_block', MD5(random()::text)) AS home_address 
          FROM enumerators a
          INNER JOIN surveyor_forms b
          ON a.enumerator_uid = b.enumerator_uid
          WHERE b.form_uid IN {forms}
          "
    - 
        table_name: surveyor_forms
        query: "
          SELECT *
          FROM surveyor_forms
          WHERE form_uid IN {forms}
          "
    - 
        table_name: location_surveyor_mapping
        query: "
          SELECT *
          FROM location_surveyor_mapping
          WHERE form_uid IN {forms}
          "
    - 
        table_name: targets
        query: "
          SELECT target_uid,
          target_id,
          form_uid,
          '{\"' || MD5(random()::text) || '\", \"' || MD5(random()::text) || '\"}' AS respondent_names,
          MD5(random()::text) AS respondent_phone_primary,
          MD5(random()::text) AS respondent_phone_secondary,
          MD5(random()::text) AS address,
          MD5(random()::text) AS gps_latitude,
          MD5(random()::text) AS gps_longitude,
          prime_location_uid,
          geo_level_n_location_uid,
          active,
          jsonb_build_object('gender', MD5(random()::text)) AS custom_fields
          FROM targets
          WHERE form_uid IN {forms}
          "
    - 
        table_name: target_status
        query: "
          SELECT a.*
          FROM target_status a
          INNER JOIN targets b
          ON a.target_uid = b.target_uid
          WHERE b.form_uid IN {forms}
          "
    - 
        table_name: surveyor_assignments
        query: "
          SELECT a.*
          FROM surveyor_assignments a
          INNER JOIN targets b
          ON a.target_uid = b.target_uid
          WHERE b.form_uid IN {forms}
          "
    - 
        table_name: webapp_columns
        query: "
          SELECT *
          FROM webapp_columns
          WHERE form_uid IN {forms}
          "
